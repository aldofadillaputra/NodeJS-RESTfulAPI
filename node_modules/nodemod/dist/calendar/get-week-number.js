import { toUTCDate } from './to-utc-date.js';
function toFixedDate(weekNumberType, date) {
    const wd = date.getUTCDay();
    const fy = date.getUTCFullYear();
    const m = date.getUTCMonth();
    const d = date.getUTCDate();
    switch (weekNumberType) {
        case 'first-4-day-week':
            return toUTCDate(fy, m, d - wd + 3);
        case 'first-day-of-year':
            return toUTCDate(fy, m, d - wd + 6);
        case 'first-full-week':
            return toUTCDate(fy, m, d - wd);
        default:
            return date;
    }
}
export function getWeekNumber(weekNumberType, date) {
    const fixedNow = toFixedDate(weekNumberType, date);
    const firstDayOfYear = toUTCDate(fixedNow.getUTCFullYear(), 0, 1);
    const wk = Math.ceil(((+fixedNow - +firstDayOfYear) / 864e5 + 1) / 7);
    return {
        originalDate: date,
        fixedDate: fixedNow,
        weekNumber: wk,
    };
}
//# sourceMappingURL=get-week-number.js.map